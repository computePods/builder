# This CEKit module describes how to install the computePods Chef tool on 
# debian based distribution (any which uses apt-get to install packages)

# This module:
# - assumes a Debian (apt-get) based container,

schema_version: 1

name: cpChef-apt-get
version: 1.0
description: Installs the computePods Chef tool (debian version)
from: debian:stable-slim

execute:
  - script: installCPChef.sh

packages:
  manager: apt-get
  install:
    - libssl1.1

artifacts:
  # The binary lua modules built in the builder image
  - name: luaLibs
    image: cpLuaLuvNatsWebLitBuild-apt-get
    path: /root/luaLibs.tar
    target: luaLibs.tar

run:
  cmd:
    - sleep
    - infinity

# Tell cpb that we have a multi stage build which requires the
# cpLuaLuvNatsWebLitBuild-apt-get image
#
artifactImages:
 - cpLuaLuvNatsWebLitBuild-apt-get
